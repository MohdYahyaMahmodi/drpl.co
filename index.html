<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>drpl.co</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#3367d6">
  <meta name="description" content="drpl.co instantly shares files with nearby devices. Peer2Peer and Open Source.">
  <meta name="keywords" content="File, Transfer, Share, Peer2Peer">
  <meta name="author" content="drpl.co (based on Snapdrop)">
  <meta name="color-scheme" content="dark light">
  <link rel="manifest" href="manifest.json">

  <!-- Font Awesome CDN for icons -->
  <link 
    rel="stylesheet" 
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" 
    integrity="sha512-acImr3NE4pl38pNP5f4RbFYrxJ0lSe5OVf6xbVOZ9/6scLFei5Dhneh5M++fpJQ37uwmdpNubn6GHBS0ZTwKdw==" 
    crossorigin="anonymous" referrerpolicy="no-referrer" 
  />

  <link rel="shortcut icon" href="images/favicon-96x96.png" type="image/png">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <!-- HEADER -->
  <header class="row-reverse">
    <a href="#about" class="icon-button" title="About drpl.co">
      <i class="fa-solid fa-circle-info"></i>
    </a>
    <a href="#" id="notification" class="icon-button" title="Enable Notifications" hidden>
      <i class="fa-solid fa-bell"></i>
    </a>
    <a href="#" id="install" class="icon-button" title="Install drpl.co" hidden>
      <i class="fa-solid fa-house"></i>
    </a>
  </header>

  <!-- Peers Container -->
  <x-peers class="center"></x-peers>

  <!-- Fallback if no peers -->
  <x-no-peers>
    <h2>Open drpl.co on other devices to send files</h2>
  </x-no-peers>

  <!-- Instructions -->
  <x-instructions desktop="Click a device to send files or right-click to send text" 
                  mobile="Tap a device to send files or long-press to send text"></x-instructions>

  <!-- FOOTER -->
  <footer class="column">
    <i class="fa-solid fa-wifi fa-2xl logo" style="font-size:80px; color:#4285f4; margin-bottom:8px;"></i>
    <div id="displayName" placeholder="The easiest way to transfer files across devices"></div>
    <div class="font-body2">You can be discovered by everyone on this network</div>
  </footer>

  <!-- Receive File Dialog -->
  <x-dialog id="receiveDialog">
    <x-background class="full center">
      <x-paper shadow="2">
        <h3>File Received</h3>
        <div class="font-subheading" id="fileName">Filename</div>
        <div class="font-body2" id="fileSize"></div>
        <div class="preview" style="visibility: hidden;">
          <img id="img-preview" src="" alt="File preview">
        </div>
        <div class="row" style="margin-top:24px; margin-bottom:8px;">
          <label for="autoDownload" class="grow">Ask to save each file before downloading</label>
          <input type="checkbox" id="autoDownload" checked="">
        </div>
        <div class="row-reverse">
          <a class="button" close id="download" title="Download File" autofocus>Save</a>
          <button class="button" close>Ignore</button>
        </div>
      </x-paper>
    </x-background>
  </x-dialog>

  <!-- Send Text Dialog -->
  <x-dialog id="sendTextDialog">
    <form action="#">
      <x-background class="full center">
        <x-paper shadow="2">
          <h3>Send a Message</h3>
          <div id="textInput" class="textarea" role="textbox" placeholder="Send a message" contenteditable autofocus></div>
          <div class="row-reverse">
            <button class="button" type="submit" close>Send</button>
            <a class="button" close>Cancel</a>
          </div>
        </x-paper>
      </x-background>
    </form>
  </x-dialog>

  <!-- Receive Text Dialog -->
  <x-dialog id="receiveTextDialog">
    <x-background class="full center">
      <x-paper shadow="2">
        <h3>Message Received</h3>
        <div class="font-subheading" id="text"></div>
        <div class="row-reverse">
          <button class="button" id="copy" close autofocus>Copy</button>
          <button class="button" close>Close</button>
        </div>
      </x-paper>
    </x-background>
  </x-dialog>

  <!-- Toast -->
  <div class="toast-container full center">
    <x-toast class="row" shadow="1" id="toast">File Transfer Completed</x-toast>
  </div>

  <!-- ABOUT PAGE -->
  <x-about id="about" class="full center column">
    <section class="center column fade-in">
      <header class="row-reverse">
        <a href="#" class="close icon-button">
          <i class="fa-solid fa-xmark"></i>
        </a>
      </header>
      <i class="fa-solid fa-wifi fa-2xl logo" style="font-size:96px;"></i>
      <h1>drpl.co</h1>
      <div class="font-subheading">The easiest way to transfer files across devices</div>
      <div class="row" style="margin:8px 0;">
        <a class="icon-button" target="_blank" href="https://github.com/RobinLinus/snapdrop" 
           title="Original Snapdrop on GitHub" rel="noreferrer">
          <i class="fa-brands fa-github"></i>
        </a>
        <a class="icon-button" target="_blank" href="https://www.paypal.com/donate?hosted_button_id=FTP9DXUR7LA7Q" 
           title="Help cover server costs!" rel="noreferrer">
          <i class="fa-solid fa-hand-holding-dollar"></i>
        </a>
        <a class="icon-button" target="_blank" href="https://github.com/RobinLinus/snapdrop/blob/master/docs/faq.md" 
           title="FAQ" rel="noreferrer">
          <i class="fa-solid fa-circle-question"></i>
        </a>
      </div>
    </section>
    <x-background></x-background>
  </x-about>

  <!-- Scripts -->
  <script src="scripts/network.js"></script>
  <script src="scripts/ui.js"></script>
  <script src="scripts/clipboard.js" async></script>

  <!-- Audio -->
  <audio id="blop" autobuffer="true">
    <source src="sounds/blop.mp3" type="audio/mpeg">
    <source src="sounds/blop.ogg" type="audio/ogg">
  </audio>

  <!-- NoScript fallback -->
  <noscript>
    <x-noscript class="full center column">
      <h1>Enable JavaScript</h1>
      <h3>drpl.co works only with JavaScript</h3>
    </x-noscript>
    <style>
      x-noscript {
        background: #599cfc;
        color: white;
        z-index: 2;
      }
    </style>
  </noscript>
</body>
</html>
