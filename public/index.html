<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <!-- Web App Config -->
    <title>drpl.co - Instant File Sharing</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#4F46E5">
    <meta name="color-scheme" content="dark light">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="drpl.co">
    <!-- Descriptions -->
    <meta name="description" content="Instantly share files with people nearby. No setup, no signups, just drag, drop and share.">
    <meta name="keywords" content="File Transfer, Share, P2P, WebRTC">
    <meta property="og:title" content="drpl.co">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://drpl.co/">
    <meta property="og:description" content="Instantly share files with people nearby. No setup, no signups, just drag, drop and share.">
    <!-- Icons -->
    <link rel="icon" href="images/favicon.png">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <!-- Resources -->
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header>
        <div class="logo">
            <h1>drpl.co</h1>
        </div>
        <div class="actions">
            <button id="notification" class="btn-icon" title="Enable Notifications" hidden>
                <i class="fas fa-bell"></i>
            </button>
            <button id="install" class="btn-icon" title="Install drpl.co" hidden>
                <i class="fas fa-download"></i>
            </button>
            <button id="about-btn" class="btn-icon" title="About drpl.co">
                <i class="fas fa-info-circle"></i>
            </button>
        </div>
    </header>

    <!-- Peers -->
    <div class="peers-container">
        <div id="peers" class="peers"></div>
        <div id="no-peers" class="no-peers">
            <div class="empty-state">
                <i class="fas fa-users fa-3x"></i>
                <h2>Open drpl.co on other devices to share files</h2>
                <p>Everyone on the same network will appear here automatically</p>
            </div>
        </div>
    </div>

    <div id="instructions" class="instructions">
        <span class="desktop">Click to send files or right click to send a message</span>
        <span class="mobile">Tap to send files or long tap to send a message</span>
    </div>

    <!-- Footer -->
    <footer>
        <div class="footer-icon">
            <i class="fas fa-wifi fa-2x"></i>
        </div>
        <div id="displayName" class="display-name"></div>
        <div class="footer-hint">You are visible to everyone on this network</div>
    </footer>

    <!-- Receive File Dialog -->
    <div id="receiveDialog" class="dialog">
        <div class="dialog-overlay"></div>
        <div class="dialog-content">
            <div class="dialog-header">
                <h3>File Received</h3>
            </div>
            <div class="dialog-body">
                <div id="fileName" class="file-name"></div>
                <div id="fileSize" class="file-size"></div>
                <div class="file-preview">
                    <img id="img-preview" src="" alt="Preview">
                </div>
                <div class="auto-download">
                    <label>
                        <input type="checkbox" id="autoDownload" checked>
                        Ask before downloading files
                    </label>
                </div>
            </div>
            <div class="dialog-footer">
                <button class="btn btn-secondary" close>Ignore</button>
                <a id="download" class="btn btn-primary" close download>Save</a>
            </div>
        </div>
    </div>

    <!-- Send Text Dialog -->
    <div id="sendTextDialog" class="dialog">
        <div class="dialog-overlay"></div>
        <div class="dialog-content">
            <form action="#">
                <div class="dialog-header">
                    <h3>Send a Message</h3>
                </div>
                <div class="dialog-body">
                    <div id="textInput" class="text-input" contenteditable placeholder="Type your message here..."></div>
                </div>
                <div class="dialog-footer">
                    <button type="button" class="btn btn-secondary" close>Cancel</button>
                    <button type="submit" class="btn btn-primary" close>Send</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Receive Text Dialog -->
    <div id="receiveTextDialog" class="dialog">
        <div class="dialog-overlay"></div>
        <div class="dialog-content">
            <div class="dialog-header">
                <h3>Message Received</h3>
            </div>
            <div class="dialog-body">
                <div id="text" class="received-text"></div>
            </div>
            <div class="dialog-footer">
                <button class="btn btn-secondary" close>Close</button>
                <button id="copy" class="btn btn-primary" close>Copy</button>
            </div>
        </div>
    </div>

    <!-- Toast -->
    <div class="toast-container">
        <div id="toast" class="toast">
            <i class="fas fa-check-circle"></i>
            <span id="toast-message">File transferred successfully</span>
        </div>
    </div>

    <!-- About Page -->
    <div id="about" class="about">
        <div class="about-overlay"></div>
        <div class="about-content">
            <button class="close-btn" title="Close">
                <i class="fas fa-times"></i>
            </button>
            <div class="about-header">
                <i class="fas fa-wifi fa-3x"></i>
                <h1>drpl.co</h1>
                <p>The easiest way to share files across devices</p>
            </div>
            <div class="about-body">
                <p>Share files instantly with any device on your network. No setup or account needed!</p>
                <p>drpl.co uses WebRTC technology to create a secure peer-to-peer connection between devices.</p>
                <p>Your files are transferred directly between devices, not through our servers.</p>
            </div>
            <div class="about-footer">
                <div class="social-links">
                    <a href="https://github.com" target="_blank" title="GitHub">
                        <i class="fab fa-github"></i>
                    </a>
                    <a href="https://twitter.com" target="_blank" title="Twitter">
                        <i class="fab fa-twitter"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Template for Peer Element -->
    <template id="peer-template">
        <div class="peer">
            <input type="file" multiple>
            <div class="peer-icon">
                <i class="fas"></i>
                <div class="progress-circle">
                    <div class="progress-circle-overlay"></div>
                </div>
            </div>
            <div class="peer-name"></div>
            <div class="peer-device"></div>
            <div class="peer-status">Transferring...</div>
        </div>
    </template>

    <!-- Scripts -->
    <script src="scripts/clipboard.js"></script>
    <script src="scripts/network.js"></script>
    <script src="scripts/ui.js"></script>
    
    <!-- Sounds -->
    <audio id="notification-sound" preload="auto">
        <source src="sounds/notification.mp3" type="audio/mpeg">
        <source src="sounds/notification.ogg" type="audio/ogg">
    </audio>

    <!-- No Script Warning -->
    <noscript>
        <div class="noscript">
            <h1>JavaScript Required</h1>
            <p>drpl.co needs JavaScript to work. Please enable JavaScript in your browser settings.</p>
        </div>
    </noscript>
</body>
</html>